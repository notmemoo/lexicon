<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#ff9a9e">

    <!-- SEO & Link Previews -->
    <title>Balloon Pop Adventure - Pop Colorful Balloons!</title>
    <meta name="description"
        content="Pop colorful balloons in this fun arcade game! Multiple modes, special power-ups, and endless fun. Play now!">

    <!-- Open Graph (Facebook, Discord, LinkedIn) -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Balloon Pop Adventure üéà">
    <meta property="og:description"
        content="Pop colorful balloons in this fun arcade game! Multiple modes, special power-ups, and endless fun. Play now!">
    <meta property="og:image" content="https://balloonpopadventure.vercel.app/preview.png">
    <meta property="og:url" content="https://balloonpopadventure.vercel.app/">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Balloon Pop Adventure üéà">
    <meta name="twitter:description"
        content="Pop colorful balloons in this fun arcade game! Multiple modes and power-ups!">
    <meta name="twitter:image" content="https://balloonpopadventure.vercel.app/preview.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>
</head>

<body>
    <div id="game-container">
        <canvas id="game-canvas"></canvas>

        <div id="ui-overlay">
            <!-- Top Bar -->
            <div id="top-bar">
                <div id="score-container" class="bubbly-text">
                    ‚≠ê <span id="score-value">0</span>
                </div>
                <div id="coins-container" class="bubbly-text">
                    ü™ô <span id="coins-value">0</span>
                </div>
                <div id="timer-container" class="bubbly-text">
                    ‚è±Ô∏è <span id="timer-value">1:30</span>
                </div>
                <div id="lives-container" class="bubbly-text hidden">
                    ‚ù§Ô∏è <span id="lives-value">3</span>
                </div>
                <div id="boss-indicator" class="bubbly-text hidden">
                    üëπ <span id="boss-name">BOSS</span>
                </div>
                <button id="music-toggle" class="icon-button" aria-label="Toggle Music">üéµ</button>
                <button id="pause-button" class="icon-button" aria-label="Pause">‚è∏Ô∏è</button>
            </div>

            <!-- Combo Display -->
            <div id="combo-display" class="hidden">
                <span id="combo-count">2x</span> COMBO!
            </div>

            <!-- Chain Combo Display -->
            <div id="chain-display" class="hidden">
                <span id="chain-count">3</span>x CHAIN! üîó
            </div>

            <!-- Effect Messages -->
            <div id="effect-message" class="hidden bubbly-text"></div>

            <!-- Power-up Buttons (during gameplay) -->
            <div id="powerup-bar" class="hidden">
                <button class="powerup-btn" data-powerup="magnet" title="Magnet">
                    üß≤<span class="powerup-count" id="powerup-magnet-count">0</span>
                </button>
                <button class="powerup-btn" data-powerup="doubleScore" title="2x Score">
                    2Ô∏è‚É£<span class="powerup-count" id="powerup-doubleScore-count">0</span>
                </button>
                <button class="powerup-btn" data-powerup="shield" title="Shield">
                    üõ°Ô∏è<span class="powerup-count" id="powerup-shield-count">0</span>
                </button>
                <button class="powerup-btn" data-powerup="slowmo" title="Slow-Mo">
                    ‚è±Ô∏è<span class="powerup-count" id="powerup-slowmo-count">0</span>
                </button>
                <button class="powerup-btn" data-powerup="autoPopBonus" title="Auto-Pop">
                    üéØ<span class="powerup-count" id="powerup-autoPopBonus-count">0</span>
                </button>
                <button class="powerup-btn" data-powerup="coinMagnet" title="Coin Magnet">
                    üí∞<span class="powerup-count" id="powerup-coinMagnet-count">0</span>
                </button>
            </div>

            <!-- Target Mode Indicator -->
            <div id="target-indicator" class="hidden">
                <span>Pop: </span>
                <span id="target-color-display">üî¥</span>
                <span id="target-remaining">5 left</span>
            </div>

            <!-- Start Screen -->
            <div id="start-screen" class="screen">
                <h1 class="game-title bubbly-text">Balloon Pop<br>Adventure</h1>
                
                <!-- Rank Display -->
                <div id="rank-display">
                    <span id="rank-emoji">üéà</span>
                    <span id="rank-name">Beginner</span>
                    <span id="prestige-badge" class="hidden">P<span id="prestige-level">1</span></span>
                </div>
                
                <div id="currency-display">
                    <span id="total-stars"><span id="stars-amount">0</span> ‚≠ê</span>
                    <span id="total-coins"><span id="coins-amount">0</span> ü™ô</span>
                    <span id="total-gems" class="hidden"><span id="gems-amount">0</span> üíé</span>
                </div>
                
                <div id="daily-bonus" class="hidden">
                    <button id="claim-bonus-btn" class="bubbly-button bonus-btn">
                        üéÅ Claim Daily Bonus!
                        <span id="streak-indicator" class="streak-mini">üî• <span id="login-streak">0</span></span>
                    </button>
                </div>

                <!-- Seasonal Event Banner -->
                <div id="seasonal-banner" class="hidden">
                    <span id="season-icon">üå∏</span>
                    <span id="season-name">Spring Bloom Event!</span>
                </div>

                <!-- Mode Selection -->
                <div id="mode-selection">
                    <h3>Select Mode:</h3>
                    <div class="mode-buttons">
                        <button class="mode-btn selected" data-mode="classic">
                            <span class="mode-icon">üéØ</span>
                            <span class="mode-name">Classic</span>
                            <span class="mode-desc">90 sec, avoid bombs!</span>
                        </button>
                        <button class="mode-btn" data-mode="zen">
                            <span class="mode-icon">üßò</span>
                            <span class="mode-name">Zen</span>
                            <span class="mode-desc">No timer, no bombs</span>
                        </button>
                        <button class="mode-btn" data-mode="survival">
                            <span class="mode-icon">üíÄ</span>
                            <span class="mode-name">Survival</span>
                            <span class="mode-desc">3 lives, endless!</span>
                        </button>
                        <button class="mode-btn" data-mode="frenzy">
                            <span class="mode-icon">‚ö°</span>
                            <span class="mode-name">Frenzy</span>
                            <span class="mode-desc">30 sec, 2x points!</span>
                        </button>
                        <button class="mode-btn" data-mode="target">
                            <span class="mode-icon">üé®</span>
                            <span class="mode-name">Target</span>
                            <span class="mode-desc">Pop specific colors!</span>
                        </button>
                        <button class="mode-btn" data-mode="bossRush">
                            <span class="mode-icon">üëπ</span>
                            <span class="mode-name">Boss Rush</span>
                            <span class="mode-desc">Fight giant bosses!</span>
                        </button>
                        <button class="mode-btn" data-mode="endless">
                            <span class="mode-icon">‚ôæÔ∏è</span>
                            <span class="mode-name">Endless</span>
                            <span class="mode-desc">How long can you last?</span>
                        </button>
                        <button class="mode-btn" data-mode="puzzle">
                            <span class="mode-icon">üß©</span>
                            <span class="mode-name">Puzzle</span>
                            <span class="mode-desc">Match 3+ colors!</span>
                        </button>
                    </div>
                </div>

                <button id="play-button" class="bubbly-button primary-btn">‚ñ∂ PLAY</button>
                
                <div class="menu-grid">
                    <button id="shop-button" class="menu-pill-btn">üõí Shop</button>
                    <button id="collection-button" class="menu-pill-btn">üé® Cards</button>
                    <button id="leaderboard-button" class="menu-pill-btn">üèÜ Rank</button>
                    <button id="stats-button" class="menu-pill-btn">üìä Stats</button>
                    <button id="achievements-button" class="menu-pill-btn">üèÖ Awards</button>
                    <button id="challenges-button" class="menu-pill-btn">üìã Daily</button>
                    <button id="weekly-button" class="menu-pill-btn">üìÜ Weekly</button>
                    <button id="album-button" class="menu-pill-btn">üìñ Album</button>
                    <button id="prestige-button" class="menu-pill-btn">‚≠ê Prestige</button>
                    <button id="settings-button" class="menu-pill-btn">‚öôÔ∏è Settings</button>
                </div>
            </div>
        </div>

        <!-- Tutorial Screen -->
        <div id="tutorial-screen" class="screen hidden">
            <div class="tutorial-container">
                <h2 class="bubbly-text">Welcome! üéà</h2>
                <div id="tutorial-content">
                    <div class="tutorial-step" data-step="0">
                        <div class="tutorial-image">üéà</div>
                        <p>Swipe or tap balloons to pop them!</p>
                    </div>
                    <div class="tutorial-step hidden" data-step="1">
                        <div class="tutorial-image">üíÄ</div>
                        <p>Avoid bomb balloons - they end your game!</p>
                    </div>
                    <div class="tutorial-step hidden" data-step="2">
                        <div class="tutorial-image">‚ö°</div>
                        <p>Pop balloons quickly for combo bonuses!</p>
                    </div>
                    <div class="tutorial-step hidden" data-step="3">
                        <div class="tutorial-image">üåà</div>
                        <p>Look for rare balloons - they give huge rewards!</p>
                    </div>
                    <div class="tutorial-step hidden" data-step="4">
                        <div class="tutorial-image">üëπ</div>
                        <p>Boss balloons need multiple hits to defeat!</p>
                    </div>
                    <div class="tutorial-step hidden" data-step="5">
                        <div class="tutorial-image">üéÅ</div>
                        <p>Complete daily challenges for bonus coins!</p>
                    </div>
                </div>
                <div class="tutorial-dots">
                    <span class="dot active" data-step="0"></span>
                    <span class="dot" data-step="1"></span>
                    <span class="dot" data-step="2"></span>
                    <span class="dot" data-step="3"></span>
                    <span class="dot" data-step="4"></span>
                    <span class="dot" data-step="5"></span>
                </div>
                <div class="tutorial-buttons">
                    <button id="tutorial-skip" class="bubbly-button secondary-btn">Skip</button>
                    <button id="tutorial-next" class="bubbly-button primary-btn">Next ‚Üí</button>
                </div>
            </div>
        </div>

        <!-- Settings Screen -->
        <div id="settings-screen" class="screen hidden">
            <div class="screen-header">
                <h2 class="bubbly-text">‚öôÔ∏è Settings</h2>
                <button id="settings-back-button" class="bubbly-button secondary-btn">‚¨ÖÔ∏è Back</button>
            </div>
            <div class="settings-container">
                <!-- Audio Settings -->
                <div class="settings-section">
                    <h3>üîä Audio</h3>
                    <div class="setting-row">
                        <label>Music Volume</label>
                        <input type="range" id="music-volume" min="0" max="100" value="50">
                        <span id="music-volume-value">50%</span>
                    </div>
                    <div class="setting-row">
                        <label>SFX Volume</label>
                        <input type="range" id="sfx-volume" min="0" max="100" value="70">
                        <span id="sfx-volume-value">70%</span>
                    </div>
                </div>
                
                <!-- Accessibility Settings -->
                <div class="settings-section">
                    <h3>‚ôø Accessibility</h3>
                    <div class="setting-row">
                        <label>Colorblind Mode</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="colorblind-mode">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="setting-row">
                        <label>Reduced Motion</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="reduced-motion">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="setting-row">
                        <label>Haptic Feedback</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="haptic-feedback" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
                
                <!-- Game Settings -->
                <div class="settings-section">
                    <h3>üéÆ Game</h3>
                    <div class="setting-row">
                        <label>Show Tutorial</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="show-tutorial" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="setting-row">
                        <label>Auto-Save</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="auto-save" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
                
                <!-- Data Management -->
                <div class="settings-section danger-zone">
                    <h3>‚ö†Ô∏è Data</h3>
                    <button id="reset-tutorial-btn" class="bubbly-button secondary-btn">Reset Tutorial</button>
                    <button id="reset-progress-btn" class="bubbly-button danger-btn">Reset All Progress</button>
                </div>
            </div>
        </div>

        <!-- Stats Screen -->
        <div id="stats-screen" class="screen hidden">
            <div class="screen-header">
                <h2>üìä Statistics</h2>
                <button id="stats-back-button" class="bubbly-button secondary-btn">‚¨ÖÔ∏è Back</button>
            </div>
            <div class="stats-container">
                <!-- Main Stats Cards -->
                <div class="stats-overview">
                    <div class="stat-card gold">
                        <div class="stat-icon">üèÜ</div>
                        <div class="stat-label">High Score</div>
                        <div class="stat-value" id="stat-high-score">0</div>
                    </div>
                    <div class="stat-card blue">
                        <div class="stat-icon">üéà</div>
                        <div class="stat-label">Total Pops</div>
                        <div class="stat-value" id="stat-total-pops">0</div>
                    </div>
                    <div class="stat-card purple">
                        <div class="stat-icon">üéÆ</div>
                        <div class="stat-label">Games Played</div>
                        <div class="stat-value" id="stat-games-played">0</div>
                    </div>
                    <div class="stat-card green">
                        <div class="stat-icon">üî•</div>
                        <div class="stat-label">Max Combo</div>
                        <div class="stat-value" id="stat-max-combo">0</div>
                    </div>
                    <div class="stat-card orange">
                        <div class="stat-icon">‚è±Ô∏è</div>
                        <div class="stat-label">Play Time</div>
                        <div class="stat-value" id="stat-play-time">0h</div>
                    </div>
                    <div class="stat-card pink">
                        <div class="stat-icon">üìà</div>
                        <div class="stat-label">Avg Score</div>
                        <div class="stat-value" id="stat-avg-score">0</div>
                    </div>
                </div>

                <!-- Mode Stats -->
                <div class="mode-stats-section">
                    <h3>Mode Statistics</h3>
                    <div id="mode-stats-grid">
                        <!-- Populated by JS -->
                    </div>
                </div>

                <!-- Rare Collection Section -->
                <div class="rare-collection-section">
                    <h3>Rare Balloon Collection</h3>
                    <div class="rare-grid" id="rare-stats-grid">
                        <!-- Populated by JS -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Weekly Challenges Screen -->
        <div id="weekly-screen" class="screen hidden">
            <div class="screen-header">
                <h2 class="bubbly-text">üìÜ Weekly Challenges</h2>
                <button id="weekly-back-button" class="bubbly-button secondary-btn">‚¨ÖÔ∏è Back</button>
            </div>
            <div id="weekly-streak-display" class="streak-badge">üî• Weekly Streak: <span id="weekly-streak-count">0</span></div>
            <div id="weekly-timer">Resets in: <span id="weekly-time-remaining">6d 23h</span></div>
            <div id="weekly-challenges-list"></div>
        </div>

        <!-- Collection Album Screen -->
        <div id="album-screen" class="screen hidden">
            <div class="screen-header">
                <h2 class="bubbly-text">üìñ Collection Album</h2>
                <button id="album-back-button" class="bubbly-button secondary-btn">‚¨ÖÔ∏è Back</button>
            </div>
            <div class="album-container">
                <div class="album-category">
                    <h3>üéà Normal Balloons</h3>
                    <div class="album-progress-bar">
                        <div class="album-progress-fill" id="normal-progress"></div>
                    </div>
                    <div class="album-stats">
                        <span id="normal-count">0</span> popped
                        <span class="album-milestone">Next: <span id="normal-next">100</span> (+<span id="normal-reward">25</span>ü™ô)</span>
                    </div>
                </div>
                <div class="album-category">
                    <h3>‚ú® Special Balloons</h3>
                    <div class="album-progress-bar">
                        <div class="album-progress-fill" id="special-progress"></div>
                    </div>
                    <div class="album-stats">
                        <span id="special-count">0</span> popped
                        <span class="album-milestone">Next: <span id="special-next">50</span> (+<span id="special-reward">50</span>ü™ô)</span>
                    </div>
                </div>
                <div class="album-category">
                    <h3>üåà Rare Balloons</h3>
                    <div class="album-progress-bar">
                        <div class="album-progress-fill" id="rare-progress"></div>
                    </div>
                    <div class="album-stats">
                        <span id="rare-count">0</span> popped
                        <span class="album-milestone">Next: <span id="rare-next">5</span> (+<span id="rare-reward">100</span>ü™ô)</span>
                    </div>
                </div>
                <div class="album-category">
                    <h3>üëπ Boss Balloons</h3>
                    <div class="album-progress-bar">
                        <div class="album-progress-fill" id="boss-progress"></div>
                    </div>
                    <div class="album-stats">
                        <span id="boss-count">0</span> defeated
                        <span class="album-milestone">Next: <span id="boss-next">1</span> (+<span id="boss-reward">100</span>ü™ô)</span>
                    </div>
                </div>
                
                <!-- Rare Gallery -->
                <div class="rare-gallery">
                    <h3>üèÜ Discovered Rares</h3>
                    <div id="rare-gallery-grid">
                        <!-- Populated by JS -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Prestige Screen -->
        <div id="prestige-screen" class="screen hidden">
            <div class="screen-header">
                <h2 class="bubbly-text">‚≠ê Prestige</h2>
                <button id="prestige-back-button" class="bubbly-button secondary-btn">‚¨ÖÔ∏è Back</button>
            </div>
            <div class="prestige-container">
                <div class="prestige-current">
                    <div class="prestige-level-display">
                        <span class="prestige-star">‚≠ê</span>
                        <span id="current-prestige-level">0</span>
                    </div>
                    <div class="prestige-multiplier">
                        Current Bonus: <span id="current-multiplier">1.0</span>x
                    </div>
                </div>
                
                <div class="prestige-progress">
                    <h3>Progress to Next Prestige</h3>
                    <div class="prestige-bar">
                        <div class="prestige-bar-fill" id="prestige-progress-fill"></div>
                    </div>
                    <div class="prestige-stats">
                        <span id="lifetime-stars">0</span> / <span id="prestige-requirement">5000</span> ‚≠ê
                    </div>
                </div>
                
                <div class="prestige-rewards">
                    <h3>Next Prestige Rewards</h3>
                    <div id="prestige-reward-preview">
                        <span>üíé <span id="prestige-gems">5</span></span>
                        <span>ü™ô <span id="prestige-coins">1000</span></span>
                        <span>üìà <span id="prestige-new-mult">1.1</span>x multiplier</span>
                    </div>
                </div>
                
                <button id="prestige-btn" class="bubbly-button primary-btn" disabled>
                    ‚≠ê PRESTIGE NOW
                </button>
                <p class="prestige-warning">‚ö†Ô∏è Prestiging resets your stars and rank, but keeps lifetime stats!</p>
            </div>
        </div>

        <!-- Pause Screen -->
        <div id="pause-screen" class="screen hidden">
            <h2 class="bubbly-text">‚è∏Ô∏è PAUSED</h2>
            <div class="pause-score">Score: <span id="pause-score">0</span></div>
            <button id="resume-button" class="bubbly-button primary-btn">‚ñ∂ RESUME</button>
            <button id="restart-from-pause-button" class="bubbly-button secondary-btn">‚Üª RESTART</button>
            <button id="quit-button" class="bubbly-button secondary-btn">üè† QUIT</button>
        </div>

        <!-- Game Over Screen -->
        <div id="gameover-screen" class="screen hidden">
            <div class="screen-content">
                <h2 id="gameover-title">Time's Up!</h2>
                <div id="final-score-display">0</div>
                <div id="high-score-badge" class="hidden">New Record! üèÜ</div>
                <div id="high-score-display">Best: 0</div>
                
                <!-- New stats row -->
                <div id="game-stats-row">
                    <span>üéà <span id="game-pops">0</span></span>
                    <span>üî• <span id="game-combo">0</span>x</span>
                    <span>üëπ <span id="game-bosses">0</span></span>
                </div>
                
                <div id="rewards-earned">
                    <span>‚≠ê <span id="stars-earned">0</span></span>
                    <span>ü™ô <span id="coins-earned">0</span></span>
                </div>

                <!-- Rank up notification -->
                <div id="rank-up-notification" class="hidden">
                    <span id="new-rank-emoji">üèÖ</span>
                    Rank Up! <span id="new-rank-name">Champion</span>
                </div>

                <div id="initials-entry" class="hidden">
                    <p>Enter Initials:</p>
                    <div id="initials-input-container">
                        <input type="text" maxlength="1" class="initial-input">
                        <input type="text" maxlength="1" class="initial-input">
                        <input type="text" maxlength="1" class="initial-input">
                    </div>
                    <button id="submit-score-button" class="bubbly-button primary-btn">Submit</button>
                </div>

                <div id="gameover-buttons">
                    <button id="restart-button" class="bubbly-button primary-btn">Play Again</button>
                    <button id="home-button" class="bubbly-button secondary-btn">Home</button>
                </div>
            </div>
        </div>

        <!-- Shop Screen -->
        <div id="shop-screen" class="screen hidden">
            <h2 class="bubbly-text">üõí Shop</h2>
            <div id="shop-currency">
                <span id="shop-coins">ü™ô <span id="shop-coins-value">0</span></span>
                <span id="shop-gems">üíé <span id="shop-gems-value">0</span></span>
            </div>
            <div id="shop-tabs">
                <button class="tab-btn active" data-tab="themes">Themes</button>
                <button class="tab-btn" data-tab="balloons">Balloons</button>
                <button class="tab-btn" data-tab="sounds">Sounds</button>
                <button class="tab-btn" data-tab="trails">Trails</button>
                <button class="tab-btn" data-tab="powerups">Power-ups</button>
            </div>
            <div id="shop-grid"></div>
            <button id="shop-back-button" class="bubbly-button secondary-btn">‚Üê BACK</button>
        </div>

        <!-- Collection Screen -->
        <div id="collection-screen" class="screen hidden">
            <h2 class="bubbly-text">üé® Collection</h2>
            <div id="collection-tabs">
                <button class="tab-btn active" data-tab="themes">Themes</button>
                <button class="tab-btn" data-tab="balloons">Balloons</button>
                <button class="tab-btn" data-tab="sounds">Sounds</button>
                <button class="tab-btn" data-tab="trails">Trails</button>
            </div>
            <div id="collection-grid"></div>
            <button id="collection-back-button" class="bubbly-button secondary-btn">‚Üê BACK</button>
        </div>

        <!-- Leaderboard Screen -->
        <div id="leaderboard-screen" class="screen hidden">
            <h2 class="bubbly-text">üìä Leaderboard</h2>
            <div id="leaderboard-tabs" class="tabs-container">
                <button class="tab-btn active" data-tab="local">Local</button>
                <button class="tab-btn" data-tab="global">Global</button>
            </div>
            <div id="leaderboard-list"></div>
            <button id="leaderboard-back-button" class="bubbly-button secondary-btn">‚Üê BACK</button>
        </div>

        <!-- Challenges Screen -->
        <div id="challenges-screen" class="screen hidden">
            <h2 class="bubbly-text">üìã Daily Challenges</h2>
            <div id="streak-display" class="streak-badge">üî• Streak: <span id="streak-count">0</span> days</div>
            <div id="challenges-list"></div>
            <button id="challenges-back-button" class="bubbly-button secondary-btn">‚Üê BACK</button>
        </div>

        <!-- Achievements Screen -->
        <div id="achievements-screen" class="screen hidden">
            <h2 class="bubbly-text">üèÜ Achievements</h2>
            <div class="achievements-header">
                <span id="achievement-points">üèÖ <span id="achievement-points-value">0</span> points</span>
                <span id="achievement-progress"><span id="achievements-unlocked">0</span>/<span id="achievements-total">0</span></span>
            </div>
            <div id="achievements-grid"></div>
            <button id="achievements-back-button" class="bubbly-button secondary-btn">‚Üê BACK</button>
        </div>

        <!-- Mini-Game Screen -->
        <div id="minigame-screen" class="screen hidden">
            <h2 class="bubbly-text" id="minigame-title">‚ö° BONUS ROUND!</h2>
            <div id="minigame-timer">10</div>
            <div id="minigame-score">0</div>
            <p id="minigame-instruction">Pop as many as you can!</p>
        </div>

        <!-- Mega Pop Message -->
        <div id="mega-pop-message" class="hidden bubbly-text">
            FANTASTIC!
        </div>

        <!-- Unlock Notification -->
        <div id="unlock-notification" class="hidden">
            <div class="unlock-content">
                <span id="unlock-emoji">üéâ</span>
                <span id="unlock-text">New Unlock!</span>
            </div>
        </div>

        <!-- Achievement Notification -->
        <div id="achievement-notification" class="hidden">
            <div class="achievement-popup">
                <span id="achievement-popup-icon">üèÜ</span>
                <div class="achievement-popup-text">
                    <span id="achievement-popup-name">Achievement!</span>
                    <span id="achievement-popup-reward">+0ü™ô</span>
                </div>
            </div>
        </div>

        <!-- Reinforcement Messages -->
        <div id="reinforcement-message" class="hidden bubbly-text"></div>

        <!-- Boss Warning -->
        <div id="boss-warning" class="hidden">
            <span class="boss-warning-text">‚ö†Ô∏è BOSS INCOMING! ‚ö†Ô∏è</span>
        </div>

        <!-- Mystery Effect Reveal -->
        <div id="mystery-reveal" class="hidden">
            <span id="mystery-effect-text">???</span>
        </div>
    </div>

    <!-- External Dependencies -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <!-- Game Scripts -->
    <script src="src/Particle.js"></script>
    <script src="src/Environment.js"></script>
    <script src="src/CursorTrail.js"></script>

    <!-- Firebase SDKs (Compat for easier integration) -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>

    <!-- App Scripts -->
    <script src="src/firebase-config.js"></script>
    <script src="src/Balloon.js"></script>
    <script src="src/ProgressionManager.js"></script>
    <script src="src/ThemeManager.js"></script>
    <script src="src/FirebaseManager.js"></script>
    <script src="src/Leaderboard.js"></script>
    <script src="main.js"></script>
</body>

</html>
